#!/usr/bin/env python3

import subprocess
import sys
import signal

processes = []

def signal_handler(sig, frame):
    for process in processes:
        process.terminate()
    sys.exit(0)

signal.signal(signal.SIGINT, signal_handler)

# Start backend
backend = subprocess.Popen([sys.executable, "-m", "rosboard.rosboard", "--port", "8888", "--host", "0.0.0.0"])
processes.append(backend)

# Start login server
login = subprocess.Popen([sys.executable, "-m", "rosboard.login_server"])
processes.append(login)

# Wait for processes
for process in processes:
    process.wait()
